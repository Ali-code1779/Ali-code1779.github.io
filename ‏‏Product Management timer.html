<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="title">ğŸ•’ Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js" async defer></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      direction: rtl;
      background-color: #f0f2f5;
      padding: 20px;
    }
	#timers-table-container {
  overflow: hidden; /* Ù†Ù…Ù†Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¹Ù„Ù‰ ÙƒØ§Ù…Ù„ Ø§Ù„ÙƒÙˆÙ†ØªÙŠÙ†Ø± */
}

#timers-table-container table {
  width: 100%;
  border-collapse: collapse;
}

#timers-table-container thead th {
  background-color: #007bff;
  color: white;
  border: 1px solid #ccc;
}

#timerBody {
  display: block;
  max-height: 300px;
  overflow-y: auto;
}

#timerBody tr {
  display: table;
  width: 100%;
  table-layout: fixed;
}

#timers-table-container thead, 
#timers-table-container tbody tr {
  display: table;
  width: 100%;
  table-layout: fixed;
}

#timers-table-container tbody td {
  border: 1px solid #ccc;
}
#timers-table-container {
  overflow: hidden;
  max-width: 100%;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  margin: 0 auto;
}

#timers-table-container table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}

#timers-table-container thead th {
  background-color: #007bff;
  color: white;
  padding: 12px 8px;
  text-align: center;
  font-size: 16px;
  border-bottom: 2px solid #0056b3;
}

#timerBody {
  display: block;
  max-height: 300px;
  overflow-y: auto;
}

#timerBody tr {
  display: table;
  width: 100%;
  table-layout: fixed;
}

#timers-table-container tbody td {
  padding: 10px 8px;
  border-bottom: 1px solid #e0e0e0;
  text-align: center;
  background-color: #f9f9f9;
}

/* Ø¢Ø®Ø± ØµÙ Ø¨Ø¯ÙˆÙ† Ø­Ø¯ÙˆØ¯ Ø³ÙÙ„ÙŠØ© */
#timers-table-container tbody tr:last-child td {
  border-bottom: none;
}

/* Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù…ØªØ¬Ø§ÙˆØ¨Ù‹Ø§ */
@media (max-width: 600px) {
  #timers-table-container thead th,
  #timers-table-container tbody td {
    font-size: 14px;
    padding: 10px 6px;
  }

  #timerBody {
    max-height: 200px;
  }
}
#timers-table-container tbody tr {
  transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
  border-radius: 6px; /* Ø­Ø¯ÙˆØ¯ Ù†Ø§Ø¹Ù…Ø© Ø¥Ø¶Ø§ÙÙŠØ© */
}

#timers-table-container tbody tr:hover {
  background-color: #f0f8ff; /* Ù„ÙˆÙ† Ø®Ù„ÙÙŠØ© hover Ù…Ø®ØµØµ */
  cursor: pointer;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08); /* Ø¸Ù„ Ø®ÙÙŠÙ */
  transform: translateY(-2px); /* Ø§Ø±ØªÙØ§Ø¹ Ø®ÙÙŠÙ */
}

    .container {
      max-width: 1000px;
      margin: auto;
      background-color: #fff;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 25px;
    }
    .section-container {
      margin-bottom: 30px;
      border: 1px solid #ccc;
      padding: 20px;
      border-radius: 10px;
      background-color: #f9f9f9;
    }
    .section-title {
      font-size: 18px;
      margin-bottom: 10px;
      color: #555;
      font-weight: bold;
    }
    form, .settings {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    input, select, button {
      padding: 10px;
      font-size: 16px;
    }
    input, select {
      flex: 1 1 180px;
    }
    button {
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 12px;
      border: 1px solid #ccc;
      text-align: center;
    }
    .digital-timer {
      font-weight: bold;
      font-family: monospace;
    }
    .expired {
      color: red;
    }
    .btn-action, .btn-delete, .btn-toggle {
      margin-top: 5px;
      padding: 5px 10px;
      color: white;
      border: none;
      cursor: pointer;
    }
    .btn-action { background-color: #28a745; }
    .btn-delete { background-color: #dc3545; }
    .btn-action:hover { background-color: #218838; }
    .btn-delete:hover { background-color: #c82333; }
    .btn-toggle { background-color: #6c757d; }
    .btn-toggle:hover { background-color: #5a6268; }
    .lang-toggle {
      float: left;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
<div class="container">
  <button class="lang-toggle" onclick="toggleLanguage()">English</button>
  <h1 data-i18n="header">ğŸ›’ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h1>

  <div style="margin-bottom: 15px; text-align:center">
    <!-- âœ… Ø²Ø± Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ù…Ø¬ -->

	<div id="googleSignInDiv" style="text-align:center; margin:20px;"></div>
    <button class="btn-toggle" onclick="showProductActions()" data-i18n="productActionsTitle">ğŸ› ï¸ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</button>
    <button class="btn-toggle" onclick="showSection('timer-form-container')" data-i18n="add">â±ï¸ Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ù‚Øª</button>
	<button class="btn-toggle" onclick="togglePrintOptions()" data-i18n="printOptions">ğŸ–¨ï¸ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©</button>
<button class="btn-toggle" onclick="showProducts()" data-i18n="showProducts">ğŸ‘ï¸ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</button>
    <button class="btn-toggle" onclick="showSection('timers-table-container')" data-i18n="timersTable">ğŸ“‹ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª</button>
<div style="text-align: center; margin-top: 20px;">
  
</div>

<!-- âœ… ÙƒÙˆÙ†ØªÙŠÙ†Ø± Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© -->
<div id="print-options-container" style="display:none; max-width: 600px; margin: 20px auto; background:#fff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
  <h3 style="text-align: center; margin-bottom: 15px;" data-i18n="printOptionsTitle">ğŸ“„ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©</h3>
<form id="print-options-form">
  <label><input type="checkbox" name="printOption" value="all"> <span data-i18n="printAll">ğŸ—‚ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª ÙƒØ§Ù…Ù„</span></label><br><br>
  <label><input type="checkbox" name="printOption" value="active"> <span data-i18n="printActive">ğŸ”„ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª Ø§Ù„Ù†Ø´Ø·Ø©</span></label><br><br>
  <label><input type="checkbox" name="printOption" value="sticker"> <span data-i18n="printSticker">ğŸ·ï¸ Ø·Ø¨Ø§Ø¹Ø© Ù…Ù„ØµÙ‚ Ù„Ù…Ù†ØªØ¬ ÙˆØ§Ø­Ø¯</span></label><br><br>
  <label><input type="checkbox" name="printOption" value="pdf"> <span data-i18n="exportPDF">ğŸ“¥ ØªØµØ¯ÙŠØ± ÙƒÙ…Ù„Ù PDF</span></label><br><br>
  <label><input type="checkbox" name="printOption" value="excel"> <span data-i18n="exportExcel">ğŸ“Š ØªØµØ¯ÙŠØ± ÙƒÙ…Ù„Ù Excel</span></label><br><br>
  <div style="text-align: center; margin-top: 15px;">
    <button type="button" onclick="executePrintOptions()" data-i18n="proceed">âœ… Ø§Ø³ØªÙ…Ø±</button>
    <button type="button" onclick="togglePrintOptions()" style="background: #dc3545; margin-right: 10px;" data-i18n="cancel">âŒ Ø¥Ù„ØºØ§Ø¡</button>
  </div>
</form>
</div>
<script>
      function togglePrintOptions() {
  const printContainer = document.getElementById('print-options-container');
  const otherSections = [
    'product-actions-container',
    'timer-form-container',
    'timers-table-container',
    'products-container'
  ];
let currentUserEmail = null;

function handleCredentialResponse(response) {
  const jwt = response.credential;
  // ÙÙƒ ØªØ´ÙÙŠØ± JWT Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø³Ø· Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ (ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© jwt-decode Ù„Ùˆ Ù…Ø³Ù…ÙˆØ­)
  const base64Url = jwt.split('.')[1];
  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
  const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
  }).join(''));
  const user = JSON.parse(jsonPayload);
  currentUserEmail = user.email;

  // ØªØ­Ù‚Ù‚ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ù…Ø¹ Google Apps Script
  checkUserAuthorization(currentUserEmail);
}

function checkUserAuthorization(email) {
  const url = 'YOUR_DEPLOYED_WEB_APP_URL?email=' + encodeURIComponent(email);

  fetch(url)
    .then(res => res.json())
    .then(data => {
      if (data.authorized) {
        // Ø³Ù…Ø­ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„
        alert('Ù…Ø±Ø­Ø¨Ø§Ù‹ ' + email + 'ØŒ ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§ØªÙƒ.');
        initializeApp(); // ÙˆØ¸ÙŠÙØ© Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
      } else {
        alert('Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.');
        document.body.innerHTML = '<h2>Ù„Ø§ ØªÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>';
      }
    })
    .catch(err => {
      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª.');
      console.error(err);
    });
}

function initializeApp() {
  // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ ÙƒÙ„ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø§Ù„ØªÙŠ ØªØ¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ 
  translateUI();
  renderProductOptions();
  renderTimers();
  if (timers.length > 0) {
    showSection('timers-table-container');
  }
  setInterval(updateTimersOnly, 1000);
}

// Ø¨Ø¯Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø¹ Ø¬ÙˆØ¬Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
window.onload = () => {
  google.accounts.id.initialize({
    client_id: 'YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com',
    callback: handleCredentialResponse
  });
  google.accounts.id.renderButton(
    document.getElementById('googleSignInDiv'),
    { theme: 'outline', size: 'large', text: 'signin_with' }  // Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  );
  google.accounts.id.prompt(); // ØªØ¸Ù‡Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ø°Ø§ Ù„Ù… ÙŠØ³Ø¬Ù„
};

  // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¸Ø§Ù‡Ø±Ù‹Ø§ØŒ Ù†Ø®ÙÙŠÙ‡ ÙˆÙ†Ø¸Ù‡Ø± Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª ÙƒØ®ÙŠØ§Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠ
  if (printContainer.style.display === 'block') {
    printContainer.style.display = 'none';
    showSection('timers-table-container'); // Ø£Ùˆ Ø£ÙŠ Ù‚Ø³Ù… Ø¢Ø®Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠ
  } else {
    // Ù†Ø®ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø£Ø®Ø±Ù‰
    otherSections.forEach(id => {
      document.getElementById(id).style.display = 'none';
    });
    // Ù†Ø¹Ø±Ø¶ ÙƒÙˆÙ†ØªÙŠÙ†Ø± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
    printContainer.style.display = 'block';
  }
}


  function executePrintOptions() {
    const checkboxes = document.querySelectorAll('#print-options-form input[type="checkbox"]');
    const selected = Array.from(checkboxes).filter(cb => cb.checked).map(cb => cb.value);

    if (selected.length === 0) {
      alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø±Ø§Ø¡ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„.');
      return;
    }

    if (selected.includes('all')) {
      printTable(timers, 'ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª Ø§Ù„ÙƒØ§Ù…Ù„');
    }

    if (selected.includes('active')) {
      const activeTimers = timers.filter(t => t.expirationTime > Date.now());
      printTable(activeTimers, 'ğŸ“‹ Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª Ø§Ù„Ù†Ø´Ø·Ø©');
    }

    if (selected.includes('sticker')) {
      printStickers();
    }

    if (selected.includes('pdf')) {
      exportToPDF();
    }

    if (selected.includes('excel')) {
      exportToExcel();
    }

    togglePrintOptions();
  }

  function printTable(data, title) {
    let html = `<h2 style='text-align:center'>${title}</h2><table border='1' style='width:100%; border-collapse:collapse;'><tr><th>Ø§Ù„Ù‚Ø³Ù…</th><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„Ù…Ø¯Ø©</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>ÙˆÙ‚Øª Ø§Ù„ØªØ¬Ù‡ÙŠØ²</th><th>ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th></tr>`;
    data.forEach(t => {
      html += `<tr><td>${t.section}</td><td>${t.product}</td><td>${t.duration}</td><td>${t.quantity}</td><td>${formatDateTime(t.preparedTime)}</td><td>${formatDateTime(t.expirationTime)}</td></tr>`;
    });
    html += `</table>`;
    const win = window.open('', '', 'height=700,width=900');
    win.document.write('<html><head><title>' + title + '</title></head><body>' + html + '</body></html>');
    win.document.close();
    win.print();
  }
async function printStickers() {
  const activeTimers = timers.filter(t => t.expirationTime > Date.now());
  if (activeTimers.length === 0) return alert('No active timers.');

  try {
    let html = `
      <html>
      <head>
        <title>Product Stickers</title>
        <style>
          @media print {
            body {
              margin: 0;
              padding: 0;
            }
          }

          body {
            font-family: 'Arial', sans-serif;
            background: #fff;
            margin: 0;
            padding: 0.05in;
          }

          .sticker {
            display: inline-block;
            border: 1px solid #000;
            padding: 0.08in;
            margin: 0.05in;
            box-sizing: border-box;
            font-size: 7pt;
            line-height: 1.2;
            width: auto;
            max-width: 2in;
          }

          .info div {
            margin: 0.02in 0;
          }

          .info strong {
            font-size: 8pt;
          }
        </style>
      </head>
      <body>
    `;

    activeTimers.forEach(t => {
      for (let i = 0; i < t.quantity; i++) {
        html += `
          <div class="sticker">
            <div class="info">
              <div><strong>Product:</strong> ${t.product}</div>
              <div><strong>Prepared At:</strong> ${formatDateTime(t.preparedTime)}</div>
              <div><strong>Expires At:</strong> ${formatDateTime(t.expirationTime)}</div>
            </div>
          </div>
        `;
      }
    });

    html += `
      </body>
      </html>
    `;

    const win = window.open('', '', 'height=900,width=700');
    win.document.write(html);
    win.document.close();
    win.print();

  } catch (error) {
    alert('Failed to print stickers: ' + error.message);
  }
}

  function exportToExcel() {
    const activeTimers = timers.filter(t => t.expirationTime > Date.now());
    let csv = 'Ø§Ù„Ù‚Ø³Ù…,Ø§Ù„Ù…Ù†ØªØ¬,Ø§Ù„Ù…Ø¯Ø©,Ø§Ù„ÙƒÙ…ÙŠØ©,Ø§Ù„ØªØ¬Ù‡ÙŠØ²,Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡\n';
    activeTimers.forEach(t => {
      csv += `${t.section},${t.product},${t.duration},${t.quantity},${formatDateTime(t.preparedTime)},${formatDateTime(t.expirationTime)}\n`;
    });
    const blob = new Blob([csv], { type: 'text/csv' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = 'timers.csv';
    link.click();
  }
</script>

  <!-- âœ… Ù‚Ø³Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª + Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª -->
  <div class="section-container" id="product-actions-container" style="display:none">
    <div class="section-title" data-i18n="productActionsTitle">ğŸ› ï¸ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</div>
    <div class="settings" style="margin-bottom: 15px;">
      <input type="text" id="newSection" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…" data-i18n-placeholder="section"/>
      <input type="text" id="productAr" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©" />
      <input type="text" id="productEn" placeholder="Product Name in English" />
      <input type="number" id="defaultDuration" placeholder="Ù…Ø¯Ø© Ø§Ù„ØªØ­Ø¶ÙŠØ± (Ø³Ø§Ø¹Ø§Øª)" />
      <button onclick="addProductSetting()">â•</button>
    </div>
    <div class="settings">
      <button onclick="alert('Ø¥Ø¶Ø§ÙØ©')" data-i18n="addBtn">â• Ø¥Ø¶Ø§ÙØ©</button>
      <button onclick="alert('ØªØ¹Ø¯ÙŠÙ„')" data-i18n="editBtn">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>
      <button onclick="alert('Ø­Ø°Ù')" data-i18n="deleteBtn">âŒ Ø­Ø°Ù</button>
      <button onclick="alert('Ø§Ø³ØªÙŠØ±Ø§Ø¯')" data-i18n="importBtn">ğŸ“¥ Ø§Ø³ØªÙŠØ±Ø§Ø¯</button>
      <button onclick="alert('ØªØµØ¯ÙŠØ±')" data-i18n="exportBtn">ğŸ“¤ ØªØµØ¯ÙŠØ±</button>
      <button onclick="alert('Ø·Ø¨Ø§Ø¹Ø©')" data-i18n="printBtn">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button>
	  <button onclick="showSoundSettings()" data-i18n="soundSettingsBtn">ğŸ”Š Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡</button>
	  <button class="btn-toggle" onclick="fetchFromGoogleSheet()">ğŸ”„ Dataupdating</button>

    </div>
  </div>

  <div class="section-container" id="timer-form-container" style="display:none">
    <div class="section-title" data-i18n="add">â• Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ù‚Øª Ø¬Ø¯ÙŠØ¯</div>
    <form id="timerForm">
      <select id="sectionSelect"></select>
      <select id="productSelect"></select>
      <input type="number" id="quantity" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©" required data-i18n-placeholder="quantity" />
      <button type="submit" data-i18n="add">â• Ø§Ø¶Ø§ÙØ© Ù…Ø¤Ù‚Øª</button>
    </form>
  </div>

  <div class="section-container" id="timers-table-container" style="display:none">
    <div class="section-title" data-i18n="timersTable">ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª</div>
    <table>
      <thead>
        <tr>
          <th data-i18n="remaining">â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</th>
          <th data-i18n="section">ğŸ·ï¸ Ø§Ù„Ù‚Ø³Ù…</th>
          <th data-i18n="product">ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬</th>
          <th data-i18n="duration">â±ï¸ Ø§Ù„Ù…Ø¯Ø©</th>
          <th data-i18n="quantity">ğŸ”¢ Ø§Ù„ÙƒÙ…ÙŠØ©</th>
          <th data-i18n="prepared">ğŸ“… ÙˆÙ‚Øª Ø§Ù„ØªØ¬Ù‡ÙŠØ²</th>
          <th data-i18n="expires">ğŸ“† ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>
          <th data-i18n="action">âš™ï¸ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>
        </tr>
      </thead>
      <tbody id="timerBody"></tbody>
    </table>
  </div>
  

  <div class="section-container" id="products-container" style="display:none">
    <div class="section-title">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</div>
    <div id="products-list"></div>
  </div>
</div>
<div class="section-container" id="sound-settings-container" style="display:none">
  <div class="section-title" data-i18n="soundSettingsTitle">ğŸ”Š Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡</div>

  <label data-i18n="selectSound">ğŸµ Ø§Ø®ØªØ± Ø§Ù„ØµÙˆØª:</label><br>
  <input type="file" id="soundFileInput" accept="audio/*" />
  <br><label data-i18n="orUrl">Ø£Ùˆ Ø¶Ø¹ Ø±Ø§Ø¨Ø· ØµÙˆØª:</label>
  <input type="url" id="soundUrlInput" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØª Ø®Ø§Ø±Ø¬ÙŠ" /><br>

  <label data-i18n="alertTime">â° ÙˆÙ‚Øª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ (Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ):</label>
  <input type="number" id="alertBeforeSeconds" value="0" min="0" /><br>

  <label data-i18n="repeatSound">ğŸ” ØªÙƒØ±Ø§Ø± Ø§Ù„ØµÙˆØª:</label>
  <input type="checkbox" id="repeatSound" /><br>

  <label data-i18n="volume">ğŸ”‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª:</label>
  <input type="range" id="volumeControl" min="0" max="1" step="0.1" value="1" /><br>

  <button onclick="testSound()" data-i18n="testSound">ğŸ”Š Ø§Ø®ØªØ¨Ø§Ø±</button>
  <button onclick="saveSoundSettings()" data-i18n="saveSound">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
</div>

<audio id="alertSound" src="https://www.soundjay.com/buttons/sounds/beep-07.mp3" preload="auto"></audio>

<script>
  async function fetchFromGoogleSheet() {
    const sheetUrl = "https://script.google.com/macros/s/AKfycbzed4qYRv8FOZs7Lmo5LG6bmWqo5soAcTvsHAc60BN835rkqHeJ-moecqf_5DCwpXe-/exec"; // ğŸ” Ø§Ø³ØªØ¨Ø¯Ù„Ù‡ Ø¨Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ÙØ¹Ù„ÙŠ
    try {
      const res = await fetch(sheetUrl);
      const data = await res.json();

      const importedSettings = {};
      data.forEach(item => {
        if (!importedSettings[item.section]) importedSettings[item.section] = [];
        importedSettings[item.section].push({
          ar: item.ar,
          en: item.en,
          duration: parseFloat(item.duration)
        });
      });

      settings = importedSettings;
      localStorage.setItem('settings', JSON.stringify(settings));
      renderProductOptions();
      alert('âœ… ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
    } catch (err) {
      console.error(err);
      alert('âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
    }
  }
</script>

<script>
  let timers = JSON.parse(localStorage.getItem('timers') || '[]');
  let settings = JSON.parse(localStorage.getItem('settings') || '{}');
  let currentLang = 'ar';

  function addProductSetting() {
    const section = document.getElementById('newSection').value.trim();
    const nameAr = document.getElementById('productAr').value.trim();
    const nameEn = document.getElementById('productEn').value.trim();
    const duration = parseFloat(document.getElementById('defaultDuration').value);
    if (!section || !nameAr || !nameEn || isNaN(duration)) return alert(currentLang === 'ar' ? 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª' : 'Please enter all data');
    if (!settings[section]) settings[section] = [];
    const exists = settings[section].some(p => p.ar === nameAr || p.en.toLowerCase() === nameEn.toLowerCase());
    if (exists) return alert(currentLang === 'ar' ? 'Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ø¶Ø§Ù Ù…Ø³Ø¨Ù‚Ø§Ù‹' : 'Product already exists');
    settings[section].push({ ar: nameAr, en: nameEn, duration });
    localStorage.setItem('settings', JSON.stringify(settings));
    renderProductOptions();
    alert(currentLang === 'ar' ? 'ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬' : 'Product added');
  }
let soundSettings = JSON.parse(localStorage.getItem('soundSettings') || '{}');
let customAudio = new Audio();
customAudio.volume = soundSettings.volume || 1;

function showSoundSettings() {
  showSection('sound-settings-container');
  document.getElementById('alertBeforeSeconds').value = soundSettings.alertBefore || 0;
  document.getElementById('repeatSound').checked = soundSettings.repeat || false;
  document.getElementById('volumeControl').value = soundSettings.volume || 1;
}

function testSound() {
  if (customAudio.src) {
    customAudio.play();
  } else {
    alert(currentLang === 'ar' ? 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØª Ø£ÙˆÙ„Ø§Ù‹' : 'Please select a sound first');
  }
}

document.getElementById('soundFileInput').addEventListener('change', function(e) {
  const file = e.target.files[0];
  if (file) {
    const url = URL.createObjectURL(file);
    customAudio.src = url;
  }
});
function saveSoundSettings() {
  const url = document.getElementById('soundUrlInput').value;
  const alertBefore = parseInt(document.getElementById('alertBeforeSeconds').value);
  const repeat = document.getElementById('repeatSound').checked;
  const volume = parseFloat(document.getElementById('volumeControl').value);

  if (url) customAudio.src = url;
  customAudio.loop = repeat;
  customAudio.volume = volume;

  soundSettings = { alertBefore, repeat, volume, url: customAudio.src };
  localStorage.setItem('soundSettings', JSON.stringify(soundSettings));

  alert(currentLang === 'ar' ? 'âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª' : 'âœ… Settings saved');

  showSection('timers-container'); // â† Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯
}

function showSection(id) {
  document.querySelectorAll('.section-container').forEach(el => el.style.display = 'none');
  document.getElementById(id).style.display = 'block';
}


  function showProductActions() {
    ['product-actions-container', 'timer-form-container', 'timers-table-container', 'products-container'].forEach(id => {
      document.getElementById(id).style.display = 'none';
    });
    document.getElementById('product-actions-container').style.display = 'block';
  }

  function showProducts() {
    const container = document.getElementById('products-list');
    container.innerHTML = '';
    Object.keys(settings).forEach(sec => {
      const div = document.createElement('div');
      div.innerHTML = `<strong>${sec}</strong>`;
      settings[sec].forEach(prod => {
        const p = document.createElement('div');
        p.textContent = `${prod[currentLang]} - ${prod.duration} Ø³Ø§Ø¹Ø§Øª`;
        div.appendChild(p);
      });
      container.appendChild(div);
    });
    showSection('products-container');
  }
function renderProductOptions() {
  const sectionSelect = document.getElementById('sectionSelect');
  const productSelect = document.getElementById('productSelect');

  sectionSelect.innerHTML = '';
  productSelect.innerHTML = '';

  const sections = Object.keys(settings);
  sections.forEach(sec => {
    const opt = document.createElement('option');
    opt.value = sec;
    opt.textContent = sec;
    sectionSelect.appendChild(opt);
  });

  if (sections.length > 0) {
    const firstSection = sections[0];
    settings[firstSection].forEach(prod => {
      const opt = document.createElement('option');
      opt.value = prod.ar;
      opt.textContent = prod.ar;
      productSelect.appendChild(opt);
    });
  }

  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù‚Ø³Ù…
  sectionSelect.onchange = () => {
    const selected = sectionSelect.value;
    productSelect.innerHTML = '';
    settings[selected].forEach(prod => {
      const opt = document.createElement('option');
      opt.value = prod.ar;
      opt.textContent = prod.ar;
      productSelect.appendChild(opt);
    });
  };
}

  function renderProductOptions() {
    const sectionSel = document.getElementById('sectionSelect');
    const productSel = document.getElementById('productSelect');
    sectionSel.innerHTML = '';
    Object.keys(settings).forEach(sec => {
      const opt = document.createElement('option');
      opt.value = sec;
      opt.textContent = sec;
      sectionSel.appendChild(opt);
    });
    sectionSel.onchange = () => {
      const sec = sectionSel.value;
      productSel.innerHTML = '';
      settings[sec]?.forEach(prod => {
        const opt = document.createElement('option');
        opt.value = JSON.stringify(prod);
        opt.textContent = prod[currentLang];
        productSel.appendChild(opt);
      });
    };
    sectionSel.dispatchEvent(new Event('change'));
  }

  document.getElementById('timerForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const sec = document.getElementById('sectionSelect').value;
    const prod = JSON.parse(document.getElementById('productSelect').value);
    const quantity = parseInt(document.getElementById('quantity').value);
    const preparedTime = Date.now();
    const expirationTime = preparedTime + prod.duration * 3600000;
    timers.push({ section: sec, product: prod[currentLang], duration: prod.duration, quantity, preparedTime, expirationTime });
    localStorage.setItem('timers', JSON.stringify(timers));
    this.reset();
    showSection('timers-table-container');
    renderTimers();
  });

  function renderTimers() {
    const tbody = document.getElementById('timerBody');
    tbody.innerHTML = '';
    timers.forEach((t, i) => {
      const tr = document.createElement('tr');
      const remaining = t.expirationTime - Date.now();
      const time = remaining > 0 ? new Date(remaining).toISOString().substr(11, 8) : 'â›”';
      tr.innerHTML = `
        <td id="timer-${i}" class="digital-timer ${remaining <= 0 ? 'expired' : ''}">${time}</td>
        <td>${t.section}</td>
        <td>${t.product}</td>
        <td>${t.duration}</td>
        <td>${t.quantity}</td>
        <td>${formatDateTime(t.preparedTime)}</td>
        <td>${formatDateTime(t.expirationTime)}</td>
        <td>

          <select id="action-${i}">
            <option value="sell">${currentLang === 'ar' ? 'Ø¨ÙŠØ¹' : 'Sell'}</option>
            <option value="dispose">${currentLang === 'ar' ? 'Ø¥ØªÙ„Ø§Ù' : 'Dispose'}</option>
            <option value="delete">${currentLang === 'ar' ? 'Ø­Ø°Ù' : 'Delete'}</option>
			
          </select>
          <button class="btn-action" onclick="handleAction(${i})">${currentLang === 'ar' ? 'ØªÙ†ÙÙŠØ°' : 'Execute'}</button>
        </td>`;
      tbody.appendChild(tr);
    });
  }

  function updateTimersOnly() {
    timers.forEach((t, i) => {
      const timerCell = document.getElementById(`timer-${i}`);
      if (timerCell) {
        const remaining = t.expirationTime - Date.now();
        const expired = remaining <= 0;
        timerCell.textContent = expired ? 'â›”' : new Date(remaining).toISOString().substr(11, 8);
        timerCell.classList.toggle('expired', expired);
        if (expired && !timerCell.dataset.alerted) {
          document.getElementById('alertSound').play();
          timerCell.dataset.alerted = 'true';
        }
      }
    });
  }
  
function handleAction(i) {
  const action = document.getElementById(`action-${i}`).value;
  const remaining = timers[i].expirationTime - Date.now();

  // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ¹ ÙÙŠ Ø­Ø§Ù„ Ø¨Ù‚Ø§Ø¡ Ø£Ù‚Ù„ Ù…Ù† 10 Ø¯Ù‚Ø§Ø¦Ù‚ (600,000 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©)
  if (action === 'sell' && remaining <= 600000) {
    alert(currentLang === 'ar' 
      ? 'â›” Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¨ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¢Ù†. ÙŠØ¬Ø¨ Ø¥ØªÙ„Ø§ÙÙ‡ ÙÙˆØ±Ø§Ù‹.' 
      : 'â›” Cannot sell the product now. It must be disposed of immediately.');
    return;
  }

  if (action === 'delete') {
    const pwd = prompt(currentLang === 'ar' ? 'Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ø­Ø°Ù Ø§Ù„Ù…Ø¤Ù‚Øª:' : 'Enter password:');
    if (pwd !== '123') {
      alert(currentLang === 'ar' ? 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©' : 'Wrong password');
      return;
    }
    timers.splice(i, 1);
  } else {
    timers[i].quantity--;
    if (timers[i].quantity <= 0) {
      timers.splice(i, 1);
    }
  }

  localStorage.setItem('timers', JSON.stringify(timers));
  renderTimers();
}


  function formatDateTime(ts) {
    return new Date(ts).toLocaleString(currentLang === 'ar' ? 'ar-EG' : 'en-US');
  }

  function toggleLanguage() {
    currentLang = currentLang === 'ar' ? 'en' : 'ar';
    translateUI();
    renderProductOptions();
    renderTimers();
  }

  const translations = {
    ar: {
      title: "ğŸ•’ Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
      header: "ğŸ›’ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
      section: "Ø§Ù„Ù‚Ø³Ù…",
      product: "Ø§Ù„Ù…Ù†ØªØ¬",
      duration: "â±ï¸ Ø§Ù„Ù…Ø¯Ø©",
      quantity: "ğŸ”¢ Ø§Ù„ÙƒÙ…ÙŠØ©",
      add: "â• Ø§Ø¶Ø§ÙØ© Ù…Ø¤Ù‚Øª",
      timersTable: "ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª",
      remaining: "â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ",
      action: "âš™ï¸ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡",
      prepared: "ğŸ“… ÙˆÙ‚Øª Ø§Ù„ØªØ¬Ù‡ÙŠØ²",
      expires: "ğŸ“† ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡",
      productActionsTitle: "ğŸ› ï¸ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
      addBtn: "â• Ø¥Ø¶Ø§ÙØ©",
      editBtn: "âœï¸ ØªØ¹Ø¯ÙŠÙ„",
      deleteBtn: "âŒ Ø­Ø°Ù",
      importBtn: "ğŸ“¥ Ø§Ø³ØªÙŠØ±Ø§Ø¯",
      exportBtn: "ğŸ“¤ ØªØµØ¯ÙŠØ±",
      printBtn: "ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©",
    printOptions: "ğŸ–¨ï¸ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©",
    showProducts: "ğŸ‘ï¸ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
    printOptionsTitle: "ğŸ“„ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©",
    printAll: "ğŸ—‚ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª ÙƒØ§Ù…Ù„",
    printActive: "ğŸ”„ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª Ø§Ù„Ù†Ø´Ø·Ø©",
    printSticker: "ğŸ·ï¸ Ø·Ø¨Ø§Ø¹Ø© Ù…Ù„ØµÙ‚ Ù„Ù…Ù†ØªØ¬ ÙˆØ§Ø­Ø¯",
    exportPDF: "ğŸ“¥ ØªØµØ¯ÙŠØ± ÙƒÙ…Ù„Ù PDF",
    exportExcel: "ğŸ“Š ØªØµØ¯ÙŠØ± ÙƒÙ…Ù„Ù Excel",
    proceed: "âœ… Ø§Ø³ØªÙ…Ø±",
    cancel: "âŒ Ø¥Ù„ØºØ§Ø¡",
    },
    en: {
      title: "ğŸ•’ Product Timer",
      header: "ğŸ›’ Product Management",
      section: "Section",
      product: "Product",
      duration: "â±ï¸ Duration",
      quantity: "ğŸ”¢ Quantity",
      add: "â• Add Timer",
      timersTable: "ğŸ“‹ Timers Table",
      remaining: "â³ Time Left",
      action: "âš™ï¸ Action",
      prepared: "ğŸ“… Prepared At",
      expires: "ğŸ“† Expires At",
      productActionsTitle: "ğŸ› ï¸ Product Actions",
      addBtn: "â• Add",
      editBtn: "âœï¸ Edit",
      deleteBtn: "âŒ Delete",
      importBtn: "ğŸ“¥ Import",
      exportBtn: "ğŸ“¤ Export",
      printBtn: "ğŸ–¨ï¸ Print",
	  
    printOptions: "ğŸ–¨ï¸ Print Options",
    showProducts: "ğŸ‘ï¸ Show Products",
    printOptionsTitle: "ğŸ“„ Print Options",
    printAll: "ğŸ—‚ï¸ Print Full Timer Table",
    printActive: "ğŸ”„ Print Active Timers",
    printSticker: "ğŸ·ï¸ Print Single Product Label",
    exportPDF: "ğŸ“¥ Export as PDF",
    exportExcel: "ğŸ“Š Export as Excel",
    proceed: "âœ… Continue",
    cancel: "âŒ Cancel",
    }
  };

  function translateUI() {
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      if (translations[currentLang][key]) el.textContent = translations[currentLang][key];
    });
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
      const key = el.getAttribute('data-i18n-placeholder');
      if (translations[currentLang][key]) el.placeholder = translations[currentLang][key];
    });
    document.querySelector('.lang-toggle').textContent = currentLang === 'ar' ? 'English' : 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
    document.body.style.direction = currentLang === 'ar' ? 'rtl' : 'ltr';
    document.documentElement.lang = currentLang;
	translations.ar.soundSettingsBtn = "ğŸ”Š Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡";
translations.en.soundSettingsBtn = "ğŸ”Š Sound Settings";

translations.ar.soundSettingsTitle = "ğŸ”Š Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡";
translations.en.soundSettingsTitle = "ğŸ”Š Sound Settings";

translations.ar.selectSound = "ğŸµ Ø§Ø®ØªØ± Ø§Ù„ØµÙˆØª:";
translations.en.selectSound = "ğŸµ Select sound:";

translations.ar.orUrl = "Ø£Ùˆ Ø¶Ø¹ Ø±Ø§Ø¨Ø· ØµÙˆØª:";
translations.en.orUrl = "Or provide a sound URL:";

translations.ar.alertTime = "â° ÙˆÙ‚Øª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ (Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ):";
translations.en.alertTime = "â° Alert time before expiry (seconds):";

translations.ar.repeatSound = "ğŸ” ØªÙƒØ±Ø§Ø± Ø§Ù„ØµÙˆØª:";
translations.en.repeatSound = "ğŸ” Repeat sound:";

translations.ar.volume = "ğŸ”‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª:";
translations.en.volume = "ğŸ”‰ Volume:";

translations.ar.testSound = "ğŸ”Š Ø§Ø®ØªØ¨Ø§Ø±";
translations.en.testSound = "ğŸ”Š Test";

translations.ar.saveSound = "ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª";
translations.en.saveSound = "ğŸ’¾ Save Settings";

  }
translateUI();
renderProductOptions();
renderTimers();
setInterval(updateTimersOnly, 1000);

// âœ… Ø¥Ø¸Ù‡Ø§Ø± Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ù…Ø¤Ù‚ØªØ§Øª
if (timers.length > 0) {
  showSection('timers-table-container');
  renderTimers();
}

</script>
</body>
</html>
