<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ø¤Ù‚Øª Ø­Ø³Ø§Ø¨ Ø³Ø±Ø¹Ø© Ø§Ù„Ø®Ø¯Ù…Ø©</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
      background-color: #f4f7fc;
      margin: 0;
      padding: 0;
      color: #333;
    }

    header {
      background-color: #0056b3;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 1.8rem;
      font-weight: bold;
    }

    .container {
      max-width: 800px;
      margin: 30px auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .content {
      padding: 30px;
    }

    h2 {
      color: #444;
      margin-bottom: 20px;
      font-size: 1.4rem;
    }

    label {
      display: block;
      margin: 10px 0 5px;
      font-size: 1rem;
      color: #555;
    }

    input, select, range {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      margin-bottom: 15px;
      font-size: 1rem;
      box-sizing: border-box;
    }

    button {
      width: 100%;
      padding: 12px;
      font-size: 1rem;
      background-color: #0056b3;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #003f7f;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 30px;
      border-radius: 8px;
      overflow: hidden;
    }

    table th, table td {
      text-align: center;
      padding: 12px;
      border: 1px solid #ddd;
      font-size: 1rem;
    }

    table th {
      background-color: #f8f9fa;
    }

    .late {
      background-color: #ffcccc;
      color: red;
    }

    .halfway {
      background-color: #fff3cd;
      color: #856404;
    }

    .delivered {
      background-color: #d4edda;
      color: green;
    }

    .volume-control {
      display: flex;
      align-items: center;
      margin-top: 15px;
    }

    .volume-control label {
      margin-right: 10px;
      font-size: 1rem;
    }

    .volume-control input {
      width: 80%;
    }

    .add-timer-btn {
      width: 100%;
      padding: 12px;
      background-color: #28a745;
      color: white;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .add-timer-btn:hover {
      background-color: #218838;
    }

    .timer-inputs {
      display: none;
    }

    .timer-clock {
      font-size: 1.5rem;
      font-weight: bold;
      margin-top: 10px;
    }

  </style>
</head>
<body>
  <header>
    Ù…Ø¤Ù‚Øª Ø­Ø³Ø§Ø¨ Ø³Ø±Ø¹Ø© Ø§Ù„Ø®Ø¯Ù…Ø© â±ï¸
  </header>

  <div class="container">
    <div class="content">
      <h2>Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ù‚Øª Ø¬Ø¯ÙŠØ¯ ğŸ•’</h2>
      <button class="add-timer-btn" onclick="toggleTimerInputs()">Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ù‚Øª Ø¬Ø¯ÙŠØ¯ â•</button>

      <div class="timer-inputs">
        <label for="cashierId">Ø±Ù‚Ù… Ø§Ù„ÙƒØ§Ø´ÙŠØ± ğŸ’¼:</label>
        <input type="text" id="cashierId" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„ÙƒØ§Ø´ÙŠØ±">

        <label for="orderId">Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ ğŸ“¦:</label>
        <input type="text" id="orderId" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨">

        <label for="serviceLocation">Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø®Ø¯Ù…Ø© ğŸ :</label>
        <select id="serviceLocation">
          <option value="ØµØ§Ù„Ø© Ø§Ù„Ø£ÙØ±Ø§Ø¯">ØµØ§Ù„Ø© Ø§Ù„Ø£ÙØ±Ø§Ø¯</option>
          <option value="Ù‚Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª">Ù‚Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª</option>
          <option value="Ø®Ø¯Ù…Ø© Ø³ÙŠØ§Ø±Ø§Øª">Ø®Ø¯Ù…Ø© Ø³ÙŠØ§Ø±Ø§Øª</option>
          <option value="Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„Ù„Ù…Ù†Ø§Ø²Ù„">Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ Ù„Ù„Ù…Ù†Ø§Ø²Ù„</option>
          <option value="Ù‡Ø±ÙÙŠ Ø¢Ø¨">Ù‡Ø±ÙÙŠ Ø¢Ø¨</option>
          <option value="Ù‡Ù†Ø¬Ø±Ø§Ø³ØªÙŠØ´Ù†">Ù‡Ù†Ø¬Ø±Ø§Ø³ØªÙŠØ´Ù†</option>
          <option value="ØªÙˆÙŠÙˆ">ØªÙˆÙŠÙˆ</option>
          <option value="Ø¬Ø§Ù‡Ø²">Ø¬Ø§Ù‡Ø²</option>
          <option value="Ù…Ø±Ø³ÙˆÙ„">Ù…Ø±Ø³ÙˆÙ„</option>
        </select>

        <label for="orderValue">Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¨Ø§Ù„Ø±ÙŠØ§Ù„ ğŸ’µ:</label>
        <input type="number" id="orderValue" placeholder="Ø£Ø¯Ø®Ù„ Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨" min="0" step="0.01">

        <div class="volume-control">
          <label for="volume">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª ğŸ”Š:</label>
          <input type="range" id="volume" min="0" max="1" step="0.1" value="0.5">
        </div>

        <button onclick="startTimer()">Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª â³</button>
      </div>

      <h2>Ø§Ù„Ù…Ø¤Ù‚ØªØ§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø© ğŸ“</h2>
      <table id="timersTable">
        <thead>
          <tr>
            <th>Ø±Ù‚Ù… Ø§Ù„ÙƒØ§Ø´ÙŠØ± ğŸ’¼</th>
            <th>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ ğŸ“¦</th>
            <th>Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø®Ø¯Ù…Ø© ğŸ </th>
            <th>Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨ ğŸ’µ</th>
            <th>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ â°</th>
            <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ ğŸ–Šï¸</th>
          </tr>
        </thead>
        <tbody id="timersBody"></tbody>
      </table>
    </div>
  </div>

  <audio id="startSound" src="start.mp3"></audio>
  <audio id="halfwaySound" src="halfway.mp3"></audio>
  <audio id="endSound" src="end.mp3"></audio>

  <script>
    const timers = [];
    const standardTime = 360; // 6 Ø¯Ù‚Ø§Ø¦Ù‚ Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ
    const volumeControl = document.getElementById('volume');

    function toggleTimerInputs() {
      const timerInputs = document.querySelector('.timer-inputs');
      const timersTable = document.getElementById('timersTable');
      const addTimerBtn = document.querySelector('.add-timer-btn');

      if (timerInputs.style.display === "none" || timerInputs.style.display === "") {
        timerInputs.style.display = "block";
        timersTable.style.display = "none";
      } else {
        timerInputs.style.display = "none";
        timersTable.style.display = "block";
      }
    }

    function startTimer() {
      const cashierId = document.getElementById('cashierId').value;
      const orderId = document.getElementById('orderId').value;
      const serviceLocation = document.getElementById('serviceLocation').value;
      const orderValue = parseFloat(document.getElementById('orderValue').value);
      const timerEndTime = Date.now() + standardTime * 1000;

      if (!cashierId || !orderId || !serviceLocation || isNaN(orderValue) || orderValue <= 0) {
        alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© ÙƒØ§ÙØ© Ø§Ù„Ø­Ù‚ÙˆÙ„.");
        return;
      }

      const newTimer = {
        cashierId,
        orderId,
        serviceLocation,
        orderValue,
        endTime: timerEndTime,
        status: "Ù†Ø´Ø·",
        delivered: false
      };

      playSound('startSound');
      timers.push(newTimer);
      updateTimersTable();
    }

    function updateTimersTable() {
      const timersBody = document.getElementById('timersBody');
      timersBody.innerHTML = '';

      timers.sort((a, b) => a.endTime - b.endTime);

      timers.forEach((timer, index) => {
        const remainingTime = Math.round((timer.endTime - Date.now()) / 1000);
        const tr = document.createElement('tr');

        if (remainingTime <= 0) {
          timer.status = 'ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…';
        }

        tr.innerHTML = `
          <td>${timer.cashierId}</td>
          <td>${timer.orderId}</td>
          <td>${timer.serviceLocation}</td>
          <td>${timer.orderValue}</td>
          <td>${formatTime(remainingTime)}</td>
          <td>
            <button onclick="completeTimer(${index})" class="delivered-btn">ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…</button>
          </td>
        `;

        if (timer.status === 'ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…') {
          tr.classList.add('delivered');
        } else if (remainingTime <= standardTime / 2) {
          playSound('halfwaySound');
          tr.classList.add('halfway');
        }

        if (remainingTime <= 0) {
          tr.classList.add('late');
        }

        timersBody.appendChild(tr);
      });
    }

    function playSound(id) {
      const sound = document.getElementById(id);
      sound.volume = parseFloat(volumeControl.value);
      sound.play();
    }

    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const remainingSeconds = seconds % 60;
      return `${minutes} Ø¯Ù‚ÙŠÙ‚Ø© ${remainingSeconds} Ø«Ø§Ù†ÙŠØ©`;
    }

    function completeTimer(index) {
      timers[index].status = 'ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…';
      timers[index].delivered = true;
      playSound('endSound');
      updateTimersTable();
    }

    setInterval(updateTimersTable, 1000);
  </script>
</body>
</html>
